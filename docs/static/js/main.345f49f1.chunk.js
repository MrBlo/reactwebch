(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},105:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(53),l=a(18),o=a(10),m=Object(n.createContext)(""),i=function(e){var t=e.children,a=Object(n.useState)([]),r=Object(o.a)(a,2),i=r[0],u=r[1],s=Object(n.useState)(0),d=Object(o.a)(s,2),f=d[0],b=d[1],p=function(e){b(e.reduce(function(e,t){return e+(t.quantity||0)},0))};return c.a.createElement(m.Provider,{value:{itemCart:i,addItem:function(e){var t=Object(l.a)(i),a=t.findIndex(function(t){return t.id==e.id});-1!=a?t[a].quantity+=e.quantity:t.push(e),u(t),p(t)},removeItem:function(e){var t=i.findIndex(function(t){return t.id==e});if(-1!=t){var a=Object(l.a)(i);a.splice(t,0==t?t+1:t),u(a),p(a)}},clear:function(){b(0),u([])},getTotalPrice:function(){return i.reduce(function(e,t){return e+t.quantity*t.price},0)},countItems:f,getCount:function(e){var t=i.findIndex(function(t){return t.id==e});return-1==t?0:i[t].quantity}}},t)},u=a(17),s=a(1),d=a(110),f=a(7),b=a(9),p=a(2),E=a.n(p),v=a(5),g=a(31),N=a(54),O=Object(N.a)({apiKey:"AIzaSyBk1MztrDzoINuOuvi6DWlSkCdrQ7FBL4w",authDomain:"reactch-baf75.firebaseapp.com",projectId:"reactch-baf75",storageBucket:"reactch-baf75.appspot.com",messagingSenderId:"507871329871",appId:"1:507871329871:web:5882dd58d3c39700a9343a"}),j=Object(g.f)(O),C=function(){return{fetchGetDataCollection:function(e){var t=Object(n.useState)({itemsData:[],loading:!0}),a=Object(o.a)(t,2),c=a[0],r=a[1],l=Object(g.b)(j,"products"),m=[];return Object(n.useEffect)(function(){Object(g.e)(l).then(function(t){m=t.docs.map(function(e){return Object(b.a)({id:e.id},e.data())}),e&&(m=m.filter(function(t){return t.categoryId.id==e})),r({itemsData:m,loading:!1})})},[e]),c},fetchGetIndividualProduct:function(e){var t=Object(n.useState)({itemData:{},loading:!0}),a=Object(o.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)(function(){var t=Object(g.c)(j,"products",e);Object(g.d)(t).then(function(e){var t=e.data();t=Object(b.a)({id:e.id},t),r({itemData:t,loading:!1})})},[e]),c},fetchGenerateTicket:function(){var e=Object(v.a)(E.a.mark(function e(t){var a,n,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.data,e.prev=1,n=Object(g.b)(j,"orders"),e.next=5,Object(g.a)(n,a);case 5:return c=e.sent,e.abrupt("return",c.id);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}},h=a(37),x=a.n(h),y=function(e){var t=e.className,a=e.type,n=e.name,r=e.value,l=e.inputClassName,o=e.onChange,m=e.onBlur,i=e.placeholder,u=e.error;return c.a.createElement("div",{className:t},c.a.createElement("input",{type:a,name:n,value:r,onChange:o,onBlur:function(e){return m(e)},className:l,placeholder:i}),u.nombre&&c.a.createElement("h6",{className:"text-danger my-2 text-uppercase"},u.nombre))},I=function(e){var t=e.total,a=e.compra,r=Object(n.useContext)(m).clear,l=C().fetchGenerateTicket,i=Object(n.useState)({buyer:{email:"",nombre:"",apellido:"",telefono:""},total:t,items:a}),s=Object(o.a)(i,2),d=s[0],p=s[1],g=Object(n.useState)({}),N=Object(o.a)(g,2),O=N[0],j=N[1],h=d.buyer,I=h.email,k=h.nombre,_=h.apellido,w=h.telefono,D=function(){var e=Object(v.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),![I,k,_,w].some(function(e){return""===e})){e.next=4;break}return x.a.fire({title:"Oops!",text:"Faltan campos por completar",icon:"error"}),e.abrupt("return");case 4:return e.next=6,l({data:d});case 6:a=e.sent,x.a.fire({title:"Genial!",text:"Su orden de compra se genero correctamente!\ncon id:"+a,icon:"success"}),r();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=e.target,a=t.name,n=t.value;p(Object(b.a)({},d,{buyer:Object(b.a)({},d.buyer,Object(f.a)({},a,n))}))},A=function(e){var t=e.target,a=t.value,n=t.name;j(""!==a?{}:Object(b.a)({},O,Object(f.a)({},n,"Este campo es obligatorio")))};return c.a.createElement("form",{onSubmit:D,className:"container border"},c.a.createElement("h3",{className:"text-uppercase text-center my-4"},"datos recipiente"),Object.keys(d.buyer).map(function(e,t){return c.a.createElement(y,{key:t,className:"mb-3",type:"text",name:"".concat(e),value:e.value,onChange:S,onBlur:A,inputClassName:"form-control ".concat(O[e]&&"is-invalid"),placeholder:"".concat(e),error:O})}),c.a.createElement("div",{className:"border row d-flex px-2"},c.a.createElement("div",{className:"col-12 col-lg-9"},c.a.createElement("p",{className:"fs-4 text-uppercase"},"Total: ")),c.a.createElement("div",{className:"col-12 col-lg-3"},c.a.createElement("p",{className:"fs-4"},"$",t)),c.a.createElement("button",{type:"submit",className:"btn btn-primary text-uppercase w-100 my-4"},"terminar la compra")),c.a.createElement(u.b,{to:"/",className:"btn btn-secondary text-uppercase my-2 w-100"},"volver a comprar"))},k=(a(74),function(){var e=Object(n.useContext)(m).itemCart,t=Object(n.useContext)(m).getTotalPrice,a=Object(n.useContext)(m).removeItem;return Object(n.useEffect)(function(){},[e]),0!=t()?c.a.createElement("div",{className:"px-5 w-75 mt-5 mx-auto"},c.a.createElement("ul",{className:"Cart__ul"},e.map(function(e,t){return c.a.createElement("li",{className:"d-flex justify-content-evenly mt-2 border py-5",key:t},c.a.createElement(d.a,{className:"Cart_image",src:e.image,fluid:!0}),c.a.createElement("div",{className:""},c.a.createElement("p",{className:"fw-bolder"},e.title),c.a.createElement("p",null,e.price)),c.a.createElement("p",null,"Cantidad: ",e.quantity),c.a.createElement("button",{className:"Cart__button",onClick:function(){a(e.id)}},"Eliminar item"))})),c.a.createElement(I,{total:t(),compra:e})):c.a.createElement("h2",{className:"text-center"},"Carrito vacio, prueba agregando algo a tu carrito",c.a.createElement("br",null),c.a.createElement(u.b,{to:"/"},"Ver productos"))}),_=a(83),w=a(111),D=a(112);a(79);var S=function(e){var t=e.count,a=e.setCount,n=e.stock,r=e.onAdd;return c.a.createElement("div",{className:"ItemCount"},c.a.createElement("button",{className:"ItemCount__button",onClick:function(){0!==t&&a(t-1)}},"-"),c.a.createElement("p",{className:"ItemCount__counter"},t),c.a.createElement("button",{className:"ItemCount__button",onClick:function(){t!==n&&a(t+1)}},"+"),c.a.createElement("button",{className:"ItemCount__add fw-bold",onClick:r},"Agregar"))},A=(a(81),function(e){var t=e.id,a=e.title,r=e.price,l=e.image,i=e.detail,s=e.category,f=(e.categoryId,e.stock),b=Object(n.useState)(0),p=Object(o.a)(b,2),E=p[0],v=p[1],g=Object(n.useState)(!0),N=Object(o.a)(g,2),O=N[0],j=N[1],C=Object(n.useContext)(m),h=C.addItem,y=C.getCount;return c.a.createElement(_.a,{className:"pt-5 mt-5"},c.a.createElement(w.a,null,c.a.createElement(D.a,{lg:6},c.a.createElement(d.a,{className:"ItemDetail__image w-100 px-3",src:l,fluid:!0})),c.a.createElement(D.a,{lg:6},c.a.createElement("h1",null,a),c.a.createElement("h2",null,"$",r),c.a.createElement("p",null,s),c.a.createElement("p",null,"STOCK: ".concat(f)),c.a.createElement("div",{className:"ItemDetail__description"},c.a.createElement("p",null,i)),O?c.a.createElement(S,{count:E,setCount:v,stock:f,onAdd:function(){0==E||y(t)+E>f?x.a.fire({title:"Oops...",text:"No hay stock suficiente(revise su carro)",icon:"error"}):(h({title:a,image:l,detail:i,id:t,price:r,quantity:E}),j(!1))}}):c.a.createElement(u.b,{className:"ItemDetail__link",to:"/cart"},E," Items agregado ",c.a.createElement("br",null)," Terminar mi compra"," "))))});a(89);var q=function(){var e=Object(s.h)().id,t=(0,C().fetchGetIndividualProduct)(e),a=t.itemData,n=t.loading;return c.a.createElement("div",{className:"ItemDetailContainer"},n?c.a.createElement("h2",{class:"text-center mt-5"},"Cargando info"):c.a.createElement(A,a))};a(91);var B=function(e){var t=e.title,a=e.image,r=e.price,l=e.id,i=e.stock,s=e.detail,d=Object(n.useState)(0),f=Object(o.a)(d,2),b=f[0],p=f[1],E=Object(n.useState)(!0),v=Object(o.a)(E,2),g=v[0],N=v[1],O=Object(n.useContext)(m),j=O.addItem,C=O.getCount;return c.a.createElement("div",{className:"ItemCard dflex flex-column justify-content-between"},c.a.createElement("img",{className:"ItemCard__image align-self-center",src:a,alt:""}),c.a.createElement("h5",{className:"ItemCard__title"},t),c.a.createElement("p",{className:"ItemCard__price"},"$",r),c.a.createElement("div",{className:"w-100 text-center"},c.a.createElement(u.b,{to:"/item/".concat(l),className:"ItemCard__detail"},"Ver Detalle")),c.a.createElement("div",null,g?c.a.createElement(S,{count:b,setCount:p,stock:i,onAdd:function(){0==b||C(l)+b>i?x.a.fire({title:"Oops...",text:"No hay stock suficiente(revise su carro)",icon:"error"}):(j({title:t,image:a,detail:s,id:l,price:r,quantity:b}),N(!1))}}):c.a.createElement(u.b,{className:"ItemDetail__link",to:"/cart"},b," Items agregado ",c.a.createElement("br",null)," Terminar mi compra"," ")))},T=(a(93),function(e){var t=e.data;return c.a.createElement("div",{className:"ItemList"},t.map(function(e,t){return c.a.createElement(B,Object.assign({},e,{key:e.id}))}))});a(95);var G=function(){var e=Object(s.h)().id,t=(0,C().fetchGetDataCollection)(e),a=t.itemsData,n=t.loading;return c.a.createElement("div",{className:"ItemListContainer mt-5 mx-auto w-75"},n?c.a.createElement("h3",{className:"text-center"},"Cargando productos "):c.a.createElement(T,{data:a}))},P=(a(97),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"main-inside d-flex flex-column justify-content-around"},c.a.createElement("div",{className:"ms-5 ps-5"},c.a.createElement("h1",null,"Automotora eCommerce"),c.a.createElement("h4",{className:"fst-italic ps-5"},"Vehiculos y m\xe1s")),c.a.createElement("div",{className:"mt-5 text-center"},c.a.createElement("h4",{className:""},"Nuestro listado de productos")))),c.a.createElement(G,null))}),F=(a(99),a(85)),W=a(86);a(101);var z=function(e){e.value;var t=Object(n.useContext)(m).countItems;return Object(n.useEffect)(function(){},[t]),c.a.createElement("div",{className:"CartWidget"},c.a.createElement("img",{className:"CartWidget__image",src:"/assets/img/cart.png",alt:"Cart"}),c.a.createElement("p",{className:"CartWidget__counter"},t))};var L=function(){return c.a.createElement(F.a,{bg:"dark",variant:"dark"},c.a.createElement(_.a,null,c.a.createElement(u.c,{className:"navbar-brand",to:"/"},"Automotora eCommerce"),c.a.createElement(W.a,{className:"ms-auto"},c.a.createElement(u.c,{className:"nav-link",to:"/"},"Inicio"),c.a.createElement(u.c,{className:"nav-link",to:"/category/1"},"Bicicletas"),c.a.createElement(u.c,{className:"nav-link",to:"/category/2"},"Motos"),c.a.createElement(u.c,{className:"nav-link",to:"/category/3"},"Autos"),c.a.createElement(u.c,{to:"/cart"},c.a.createElement(z,null)))))},M=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(L,null),c.a.createElement(s.a,null),c.a.createElement("div",{className:"text-center mt-5 pt-5"},c.a.createElement("p",null,"Pablo Arias",c.a.createElement("br",null),"para coderhouse")))},V=function(){return c.a.createElement(u.a,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",element:c.a.createElement(M,null)},c.a.createElement(s.b,{index:!0,element:c.a.createElement(P,null)}),c.a.createElement(s.b,{path:"/category/:id",element:c.a.createElement(G,null)}),c.a.createElement(s.b,{path:"/item/:id",element:c.a.createElement(q,null)}),c.a.createElement(s.b,{path:"/cart",element:c.a.createElement(k,null)}))))};var $=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i,null,c.a.createElement(V,null)))},J=(a(105),document.getElementById("root"));Object(r.createRoot)(J).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement($,null)))},56:function(e,t,a){e.exports=a(108)},74:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){}},[[56,2,1]]]);
//# sourceMappingURL=main.345f49f1.chunk.js.map